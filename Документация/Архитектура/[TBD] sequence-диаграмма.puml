@startuml
actor User
entity "Frontend (React)" as FE
entity "Backend (Django)" as BE
entity "Database (PostgreSQL)" as DB
entity "Redis (Cache)" as Cache
entity "External API (Tickets/Hotels)" as API

User -> FE : Запрос на создание маршрута
FE -> BE : Отправка данных маршрута (место, бюджет, предпочтения)
BE -> DB : Запрос на создание маршрута
DB -> BE : Ответ с данными маршрута
BE -> Cache : Кэширование популярных маршрутов
Cache -> BE : Ответ с кэшированными данными
BE -> FE : Ответ с маршрутом
FE -> User : Отображение маршрута

User -> FE : Редактирование маршрута
FE -> BE : Запрос на редактирование маршрута
BE -> DB : Обновление данных маршрута
DB -> BE : Ответ об обновлении
BE -> Cache : Обновление кэша
Cache -> BE : Ответ о обновлении
BE -> FE : Ответ с обновленным маршрутом
FE -> User : Отображение обновленного маршрута

User -> FE : Запрос на билеты/проживание
FE -> BE : Запрос на информацию о билетах/проживании
BE -> API : Запрос на билеты/проживание
API -> BE : Ответ с данными билетов/проживания
BE -> FE : Ответ с данными билетов/проживания
FE -> User : Отображение информации о билетах/проживании

@enduml

